[[Translation:Main/en/Dedicated server]]
[[File:en/Dedicated server.png|right|frame|Окно выделенного сервера]] '''Выделенный сервер''' OpenTTD для сетевой игры не имеет локального графического клиента. Запускается в виде консоли. Выделенный [[Main/ru/Сервер|сервер]] может работать в фоновом режиме на компьютере.

==Запуск выделенного сервера==
Запустите исполняемый файл OpenTTD с параметром {{en/C|-D|}} (заглавная D!) для работы в режиме [[Main/ru/Командная строка|командной строки]].

===В Windows===
Метод 1:
*Создайте ярлык файла {{en/C|openttd.exe|}}
*Нажмите правой кнопкой мыши по ярлыку и нажмите Свойства
*Добавьте параметр {{en/C|-D|}} в поле Объект, через пробел после openttd.exe пример: {{en/C|C:\openttd101\openttd.exe -D|}}
*Нажмите применить
*Запустите ярлык


Метод 2:
*В меню пуск нажмите выполнить
*Введите: {{en/C|"c:\(путь к игре)\openttd.exe" -D|}}
*Нажмите OK

===В Linux===
*Запустите {{en/C|openttd -D|}} в терминале. Если вы подключаетесь к серверу по SSH и хотите, чтобы игра работала после отключения - используйте [http://www.gnu.org/software/screen/ GNU Screen] или [http://dtach.sourceforge.net/ dtach].

Вы также можете запустить openttd с параметром -f. Процесс быдет выполняться в фоновом режиме, но в этом режиме консоль будет недоступна. Все будет сохраняться в лог openttd.log. Вы можете посмотреть лог с помощью tail : tail -f openttd.log чтобы отслеживать события.

===В OS/2===
*Зарустите файл {{en/C|dedicated.cmd|}}. Если запустить с параметром {{en/C|openttd -D|}}, не появится окно консоли и будет невозможно управлять сервером.

===В Mac OS X===
*Откройте терминал.
*Перейдите в терминале в папку OpenTTD
*Наберите cd OpenTTD.app/Contents/MacOS/
*После наберите ./openttd -D
*OpenTTD запустится в режиме выделенного сервера.

===B Docker.io ===
* https://registry.hub.docker.com/u/bateau/openttd/

==Настройка сервера==
Есть три варианта для изменения настроек игры:
*Запустите игру в одиночном режиме, смените настройки, закройте игру, дальше запускайте в консоли.
*Используйте [[Main/ru/Консоль|консольные команды]] для управления работающим сервером.
*Измените файл [[Main/ru/Openttd.cfg|openttd.cfg]] вручную. Просмотрите [[Main/en/Diff custom|diff custom]] для помощи.
Доступные инструменты: [http://www.tt-forums.net/viewtopic.php?f=29&t=33967 Веб интерфейс]


Измените сетевые настройки в [[Main/ru/Openttd.cfg|openttd.cfg]]:
*Поставить [[Main/en/Lan internet|lan_internet]] 0.
*Сменить [[Main/en/Server name|server_name]] для отображения имени в списке серверов, 
*Установите [[Main/en/Server advertise|server_advertise]] в true, чтобы сервер был виден в [[Main/en/Server list|списке серверов]]
*Если у вас имеется несколько сетевых адаптеров задайте [[Main/en/Server bind ip|server_bind_ip]].
*Если вы подключены через роутер, убедитесь что проброшены [[Main/en/Server port|порты]] в роутере на ваш ип (используется TCP и UDP)

==Управление сервером с помощью rcon==
Настройте выделенный сервер для приёма [[Main/en/Консоль/Ru#Server commands|rcon]] команд:
*В окне выделенного сервера, введите {{en/C|rcon_pw <password>|}}. 
:Пример: {{en/C|rcon_pw x8na7f|}}


Подключитесь к серверу клиентом:
*Запустите OpenTTD в клиентском режиме.
*Найдите ваш сервер в списке серверов и подключитесь к нему.
*Откройте консоль (клавиша ~).
*Введите {{en/C|rcon <password> "<command>"|}}. 
:Пример: {{en/C|rcon x8na7f "kick 5"|}}

==Загрузка игры==
В окне выделенного сервера (или с помощью rcon):
*Введите {{en/C|ls|}} для просмотра файлов в текущей директории, появится список папок и дисков под {{en/C|<number>|}}.
Найдите нужный номер.
*Введите {{en/C|cd <number>|}} для перехода в интересующую директорию.
*Введите {{en/C|load <number>|}} для загрузки файла.

*Вы также можете загружать сохранения и сценарии с помощью командной строки {{en/C|-g "<filename>"|}}. 
:Пример: {{en/C|openttd.exe -D -g "scenario/echo.scn"|}}.

==Автоматический старт / стоп и сохраните игру==
Он Рекомендуемые нами, чтобы использовать наш Docker контейнер, чтобы получить хорошо проверенных и рабочую среду для OpenTTD. Docker волшебно делать все для вас :) В Ubuntu 14.04 или более поздней версии вы можете запустить: sudo apt-get install docker.io, а затем прочитать документацию по следующему адресу https://registry.hub.docker.com/u/bateau/openttd/

Если вы не хотите, чтобы запустить докер: Запустите ваш выделенный сервер в Ubuntu / Debian Вы можете скачать и установить init.d скрипт, который вы получите следующие функции:
*Автоматический запуск сервера при загрузке коробки
*Автоматическое выключение при серверу установлен выключения
*Автоматическое сохранение игры через определенный интервал
Для получения дополнительных функций, руководство по установке и скачать по адресу: https://bitbucket.org/frodus/openttd-init

==Смотрите также==
*[[Main/en/Autoclean companies|Автоочистка компаний]]   для настройки автоочистки компаний, после выхода и долгого отсутствия игроков, создавших их.

[[Category:ru/Сетевая игра]]
[[Category:ru/Учебник]]