<noinclude>{{pl/Development/NewGRF/inne strony|en=newgrf-specs.tt-wiki.net/wiki/Callback:_Custom_profit_calculation_for_cargoes|pl=pl/Development/NewGRF/NFO Specs/Callback/Custom profit calculation for cargoes}}
</noinclude>== Custom profit calculation for cargoes (39) ==

To wywołanie zwrotne jest wywoływane za każdym razem, gdy ładunek jest dostarczany na stację, aby uzyskać kwotę, jaką gracz powinien uzyskać. Niskie słowo var. 18 zawiera odległość transferu, bajt 3 zawiera ilość przewożonego ładunku, a najwyższy bajt zawiera czas spędzony na trasie (jednostka czasu to +185 tyknięć, czyli ok. 2,5 dnia). Wynikiem powinien być mnożnik ze znakiem, który jest mnożony przez ilość przenoszonego ładunku i współczynnik ceny, a następnie dzielony przez 8192. Ponieważ najwyższy bit musi być zawsze ustawiony dla wyniku wywołania zwrotnego, TTDPatch sprawdza drugi najwyższy bit (bit 14 ) dla znaku. Zwrócenie wartości ujemnej oznacza, że ​​gracz musi zapłacić za przelew zamiast otrzymywać z niego pieniądze. Na przykład maksymalna wartość zwrotna 16383 oznacza, że ​​gracz otrzymuje dwukrotność współczynnika ceny za każdą jednostkę.
<!--[[Category:Callbacks]]-->