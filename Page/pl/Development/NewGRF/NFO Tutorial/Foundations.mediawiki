{{pl/Development/NewGRF/inne strony|en=www.tt-wiki.net/wiki/NFO_Foundations|pl=pl/Development/NewGRF/NFO Tutorial/Foundations}} {{en/-}}
<!--{{NFOTutorial}}-->{{pl/Development/NewGRF/NFO Tutorial/Navigation}}

Podstawowymi plikami kontrolującymi twoją nową grafikę są .nfo i .png <small>''(wcześniej  .pcx)''</small>. Plik .pcx zawiera rzeczywiste rysunki, a plik .nfo instrukcje, co z nimi zrobić.

==Rozpoczęcie==

Aby narysować nowy pociąg, najpierw potrzebujesz bazy, od której chcesz zacząć pracę. Ponieważ prawdopodobnie nie znasz jeszcze wszystkich zawiłości, najlepiej skopiować jeden z pojazdów TTD, a następnie narysować własną grafikę. Zasadniczo wykonujesz następujące kroki:
# Wyodrębnij trg1r.grf TTD (lub trg1.grf dla wersji DOS lub ogfx1_base.grf podczas korzystania z OpenGFX)
# Przejrzyj trg1r.pcx (TTD) lub ogfx1_base.grf (OpenGFX), aby znaleźć pojazd podobny do tego, który zamierzasz zrobić
# Skopiuj odpowiednie dane z pliku .nfo do własnego pliku
# Zakoduj i ponownie odkoduj własny plik

Teraz przyjrzyjmy się tym krokom nieco bardziej szczegółowo. Jeśli zdekompilowałeś plik OpenGFX, użyj odpowiednich nazw plików zamiast tego w kolejnym tekście.

==1. Extract TTD's trg1r.grf / OpenGFX's ogfx1_base.grf==

Przede wszystkim musisz pobrać [http://www.openttd.org/download-grfcodec grfcodec] i rozpakować go w folderze TTD. Następnie otwórz okno poleceń DOS. Jeśli używasz systemu Windows 2000 lub Windows XP, możesz otworzyć okno poleceń DOS, wpisując cmd w opcji wykonania w menu Start. Gdy zobaczysz okno poleceń, uruchom grfcodec w ten sposób:

<pre>cd C:\TTD
grfcodec -d trg1r.grf</pre>

Oczywiście zmień  <tt>C:\TTD</tt> , aby wskazywać na katalog TTD. Jeśli używasz TTD w wersji DOS, użyj <tt>trg1.grf</tt> zamiast <tt>trg1r.grf</tt>.

Spowoduje to utworzenie nowego folderu o nazwie sprites i umieszczenie w nim plików trg1r.pcx i trg1r.nfo.

Możesz także użyć [http://www.divxland.org/ttd/grfwizard.htm GRFWizard] z grfcodec. Doda interfejs użytkownika do grfcodec. Wystarczy postępować zgodnie z opcjami kreatora, aby zdekodować plik .grf, doda również folder sprites i wygeneruje pliki .nfo i .pcx.

==2. Przejrzenie trg1r.pcx / ogfx1_base.pcx==

Teraz otwierasz plik trg1r.pcx z folderu sprites. Istnieje wiele programów graficznych do przeglądania i edycji plików .pcx.

Poszukaj pojazdu, który jest podobny do tego, który chcesz zrobić. Na przykład, jeśli chcesz stworzyć silnik pociągu z 8 widokami, możesz użyć SH 125. Więc idź szukać jego grafiki w trg1r.pcx. W przypadku SH 125 znajdziesz je pod numerami od 2941 do 2948 (są to małe liczby nad obrazami). Zapisz te liczby. Na przykład może tak wyglądać:

[[File:en/Manual/Base Set/Trains/Sh125.png]]

==3. Skopiowanie odpowiednich danych z pliku .nfo do własnego pliku==

Teraz, gdy wiemy, na jakich 'sprites' oprzeć grafikę, musimy skopiować je do nowego pliku. Otwórz plik trg1r.nfo w edytorze tekstu, na przykład Notatniku. Otwórz także inny plik .nfo dla własnej grafiki, na przykład "mytrain.nfo" .

Teraz skopiuj i wklej pierwsze trzy linie zaczynające się od "//" do pliku mytrain.nfo. Choć mogą wyglądać jak komentarze, w rzeczywistości są ważne.

W następnym kroku znajdź linie zaczynające się od numerów 'sprites' zapisanych w poprzednim kroku. W powyższym przykładzie znaleźlibyśmy linie o numerach od 2941 do 2948. Skopiuj również te osiem (lub jakkolwiek wiele) linii do pliku mytrain.nfo.

==4. Zakodowanie i ponowne odkodowanie swojego pliku==

Teraz chcemy stworzyć własny plik .grf. Niestety, grfcodec jest nieco wybredny i narzeka głośno, jeśli twoje linie nie są poprawnie numerowane. Aby zamknąć program grfcodec, musisz przejrzeć plik .nfo i zmienić liczby na początku linii, tak aby zmieniały się z 0 na 7 (nforenum może to zrobić za Ciebie).

W tym momencie plik .nfo powinien wyglądać mniej więcej tak:

<pre>// Automatically generated by GRFCODEC. Do not modify!
// (Info version 6)
// Format: spritenum pcxfile xpos ypos compression ysize xsize xrel yrel
 0 C:\TTD\SPRITES\trg1.pcx 530 10664 01 18 8 -3 -10
 1 C:\TTD\SPRITES\trg1.pcx 546 10664 09 15 20 -14 -6
 2 C:\TTD\SPRITES\trg1.pcx 578 10664 01 12 28 -14 -6
 3 C:\TTD\SPRITES\trg1.pcx 626 10664 09 16 20 -4 -8
 4 C:\TTD\SPRITES\trg1.pcx 658 10664 01 18 8 -3 -10
 5 C:\TTD\SPRITES\trg1.pcx 674 10664 09 16 20 -14 -7
 6 C:\TTD\SPRITES\trg1.pcx 706 10664 01 12 28 -14 -6
 7 C:\TTD\SPRITES\trg1.pcx 754 10664 09 15 20 -4 -7</pre>

Teraz uruchom ponownie grfcodec, najpierw do kodowania, a następnie do dekodowania pliku. Spowoduje to utworzenie pliku mytrain.pcx i zmianę pliku .nfo w odniesieniu do tej kopii 'sprites' :

<pre>grfcodec -e mytrain.grf
grfcodec -d mytrain.grf -p 2</pre>

Pozostaw "-p 2" , jeśli pracujesz z grafiką DOS zamiast z grafiką Windows.

==Good job!==

Teraz masz swój własny plik mytrain.grf z odpowiednimi plikami mytrain.nfo i mytrain.pcx. Wykorzystamy to jako podstawę do dostosowania grafiki do TTDPatch.

Pamiętaj, że nie możesz jeszcze pobrać pliku mytrain.grf i umieścić go w pliku newgrfw.cfg TTDPatch, ponieważ nie ma on niezbędnych informacji, aby TTDPatch wiedział, co z nim zrobić.

Możesz jednak edytować grafiki w mytrain.pcx według własnych upodobań i sprawić, by wyglądały jak pociąg.

Gdy będziesz gotowy, przejdź do [http://www.tt-wiki.net/wiki/TheFirstVehicle next section] .
<!--[[Category:Tutorials]][[Category:GRF Tutorial]]-->[[Category:pl/User/extrazi/tutorial GRF]]